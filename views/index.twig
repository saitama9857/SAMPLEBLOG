{% extends 'layout.twig' %}

{% block body %}
  <h1>{{title}}</h1>
  {% for p in data.posts %}
    <div class="card">
      <div class="card-body">
        <a href="/post/{{ p.id }}"><h4>{{ p.title }}</h4></a>
        <p>{{ p.body|slice(1, 50) }} ... </p>
        {% if user.privilege == 1 %}
          <p><a href="/api/delete/{{ p.id }}">delete post</a> ||  <a href="/edit/{{ p.id }}">edit post</a> </p>
        {% endif %}
      </div>
    </div>
  {% endfor %}
{{ }}
  <nav aria-label="Page navigation example">
    <ul class="pagination">
      {% if data.pagination.previous != undefined %}
      <li class="page-item"><a class="page-link" href="/?page={{  data.pagination.previous }}">Previous</a></li>
      {% else %}
        <li class="page-item disabled"><a class="page-link" href="">Previous</a></li>
      {% endif %}
      <li class="page-item"><a class="page-link" href="#">{{ data.pagination.current + 1 }}</a></li>
      {% if data.pagination.next %}
        <li class="page-item"><a class="page-link" href="/?page={{  data.pagination.next }}">Next</a></li>
      {% else %}
        <li class="page-item disabled"><a class="page-link" href="">Next</a></li>
      {% endif %}
    </ul>
  </nav>
{% endblock %}
